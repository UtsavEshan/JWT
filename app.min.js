const express=require("express"),PORT=3e3,authRoute=require("./routes/auth"),postRoute=require("./routes/posts"),mongoose=require("mongoose"),app=express(),auth=require("./routes/verifytoken");mongoose.connect("mongodb+srv://admin:admin@jwt-vujji.mongodb.net/test?retryWrites=true&w=majority",{useNewUrlParser:!0,useUnifiedTopology:!0},()=>console.log("connected to db")),app.set("view engine","ejs"),app.use(express.json()),app.use(express.urlencoded({extended:!0})),app.use("/api/user",authRoute),app.use("/api/posts",postRoute),app.get("/api/check",auth,(req,res)=>{res.render("check")}),app.listen(3e3,()=>{console.log("Server is running on 3000")});